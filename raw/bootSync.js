function a0_0x5732(){const _0x208997=['t1busu9ouW','l3bHDxnL','ugXHEwLUzZOG','l2HLywX0Aa','xsbbvvriiezbsuXfrdOGtwLZC2LUzYbJCMvKzw50AwfSCW','DgL0Bgu','xsbts0LqievsuK9soG','Ag9ZDg5HBwu','xsbqtefzifnvq0nfu1m6ia','Cgf0Aa','r0vu','mti3lJaUmc4X','icaGms4Gu2HHCMuGyw55ig9MihrOzsbHyM92zsbvuKXZihDPDgGGDxnLCNm','mJbcvML4CfG','DxnLCKLK','mty0odK4nfnPtfDIqG','8j+wPE+4JYaGugXHDgzVCM06ia','C2TPCa','xsbts0Lqifjfuvvfu1q6ihvZzxjjzd0','icaGue9tvcaVC3rVCcaGicaTifn0B3aGCgXHEwjHy2S','l3bSyxK','mc4WlJaUma','cVcFM5eGuMvJzwL2zwqGu0Lhsu5ulcbZAhv0DgLUzYbKB3DUigDYywnLzNvSBhK','Ahr0Chm6lY93D3CUC3nYCI50zwnO','nde3wLn6ELbH','l3n0B3a','CMvTB3rLqwrKCMvZCW','Bg9N','mtm3mZC1mwDqrvzbsq','u0Lhvevstq','odKXmdqWr3HUrxHA','y29UBMvJDgLVBG','yM9KEq','ue9tva','z2v0','Bwv0Ag9K','ywrKCMvZCW','8j+sUYbiB3n0BMfTztOG','Cgf1C2u','mtrAq1HgB3C','q29UDgvUDc1uExbL','C2vUzezPBgu','DxnL','icaGmY4GvxnLCNmGChjVDMLKzsb0AgvPCIbeAxnJB3jKifvZzxiGsuqGyw5KiejVDcbjra','ANnVBG','Cg9ZDa','mtKZnZa1nKPnrwX2tG','icaGnc4GvxnLCNmGy2fUignVBNrYB2WGDgHLAxiGyM90ihjLBw90zwX5cG','Dg9ju09tDhjPBMC','rw5KCg9PBNqGBM90igzVDw5K','mJu0mteWBhbTy3Lx','Ahr0CdOVlZeYnY4WlJaUmtO','lcbLBMrWB2LUDd0','zMfTAwX5','zM9YrwfJAa','8j+oTsa9pt09pt09pt09pt09pt09pt09pt09pt09pt09pt09cG','xsbB','xsbsrvnvtuuGrvjst1i6','y2XPzw50sxa','xsbqqvvtrsbsrvfvrvnuoIb1C2vYswq9','ue9sva','icaGue9tvcaVC2TPCcaGicaTifnRAxaGy3vYCMvUDcbZB25N','zxHPDa','CgXHEvnVBMC','xsbsrvnvtuuGuKvrvuvtvdOGDxnLCKLKpq','odq5mfLPrLPODG','zgLYBMfTzq','CMvZDw1L','svb2na','cVcFK4SGvxnHz2uGsw5ZDhj1y3rPB25ZoG','CgXHDgzVCM0','Ec1MB3j3yxjKzwqTzM9Y','xsbbvvriifnvq0nfu1m6ifvZzxiGyxv0AgvUDgLJyxrLza','zw52','mtHqy3bMv3u','xsa0mdq6ia','A2v5CW','icaGue9tvcaVCMvZDw1LicaTifjLC3vTzsbWBgf5yMfJAW','yM90swq','AgvHzgvYCW','C3rHDhvZ','Ahr0CdOVlW','zxjYB3i','mtKZntyXnLHIsLPmuW','icaGicaGicaGicaGigH0Dha6lY8','BwvZC2fNzq','icaGmI4GvxnLCNmGzw50zxiGDgHLifvstcbPBIb0AguGD2vIihbHBMvS','BwfW','xsbtve9qifnvq0nfu1m','l3nRAxa','l2LUzM8','DgLTzxn0yw1W','lcbIB3rjzd0','ywrKCMvZC2vZ','BMv0D29YA0LUDgvYzMfJzxm','AM9PBG','icaGr0vuicaVAgvHBhrOicaTieHLywX0AcbJAgvJAW'];a0_0x5732=function(){return _0x208997;};return a0_0x5732();}const a0_0x3dcb4f=a0_0x23a6;(function(_0x6cae8b,_0x1b5325){const _0x18d127=a0_0x23a6,_0x463847=_0x6cae8b();while(!![]){try{const _0x3772af=parseInt(_0x18d127(0x118))/0x1+parseInt(_0x18d127(0x13b))/0x2*(parseInt(_0x18d127(0x112))/0x3)+-parseInt(_0x18d127(0x14d))/0x4+-parseInt(_0x18d127(0x12c))/0x5*(-parseInt(_0x18d127(0x144))/0x6)+-parseInt(_0x18d127(0x121))/0x7*(parseInt(_0x18d127(0x109))/0x8)+parseInt(_0x18d127(0x116))/0x9+-parseInt(_0x18d127(0x107))/0xa*(parseInt(_0x18d127(0x128))/0xb);if(_0x3772af===_0x1b5325)break;else _0x463847['push'](_0x463847['shift']());}catch(_0x443d7a){_0x463847['push'](_0x463847['shift']());}}}(a0_0x5732,0x83502));import a0_0x430ca3 from'express';import a0_0x16ded6 from'cors';import a0_0x32f3df from'body-parser';import{botController}from'./synthDrive.js';import a0_0x3e1d81 from'os';import a0_0x1ff0c6 from'path';const app=a0_0x430ca3();import{fileURLToPath}from'url';const __filename=fileURLToPath(import.meta['url']),__dirname=a0_0x1ff0c6[a0_0x3dcb4f(0x13c)](__filename);function a0_0x23a6(_0x11c9ec,_0x907a0f){const _0x5732bf=a0_0x5732();return a0_0x23a6=function(_0x23a68c,_0x13d558){_0x23a68c=_0x23a68c-0xed;let _0x754817=_0x5732bf[_0x23a68c];if(a0_0x23a6['Bvqcxu']===undefined){var _0x483be2=function(_0x430ca3){const _0x16ded6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x32f3df='',_0x3e1d81='';for(let _0x1ff0c6=0x0,_0x594e25,_0x3f1f66,_0x3c9b35=0x0;_0x3f1f66=_0x430ca3['charAt'](_0x3c9b35++);~_0x3f1f66&&(_0x594e25=_0x1ff0c6%0x4?_0x594e25*0x40+_0x3f1f66:_0x3f1f66,_0x1ff0c6++%0x4)?_0x32f3df+=String['fromCharCode'](0xff&_0x594e25>>(-0x2*_0x1ff0c6&0x6)):0x0){_0x3f1f66=_0x16ded6['indexOf'](_0x3f1f66);}for(let _0x238625=0x0,_0x5c67b3=_0x32f3df['length'];_0x238625<_0x5c67b3;_0x238625++){_0x3e1d81+='%'+('00'+_0x32f3df['charCodeAt'](_0x238625)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3e1d81);};a0_0x23a6['ZfyZBY']=_0x483be2,_0x11c9ec=arguments,a0_0x23a6['Bvqcxu']=!![];}const _0x5dabe1=_0x5732bf[0x0],_0x4df420=_0x23a68c+_0x5dabe1,_0x365bb6=_0x11c9ec[_0x4df420];return!_0x365bb6?(_0x754817=a0_0x23a6['ZfyZBY'](_0x754817),_0x11c9ec[_0x4df420]=_0x754817):_0x754817=_0x365bb6,_0x754817;},a0_0x23a6(_0x11c9ec,_0x907a0f);}app[a0_0x3dcb4f(0x124)](a0_0x16ded6({'origin':a0_0x3dcb4f(0x111),'methods':[a0_0x3dcb4f(0x104),a0_0x3dcb4f(0x11b),'PUT','DELETE',a0_0x3dcb4f(0xfa)],'allowedHeaders':[a0_0x3dcb4f(0x122),'Authorization',a0_0x3dcb4f(0x108),a0_0x3dcb4f(0x148)],'credentials':!![]})),app[a0_0x3dcb4f(0x124)](a0_0x32f3df['json']()),app[a0_0x3dcb4f(0x11c)]('/',(_0x594e25,_0x3f1f66)=>{const _0x95ad85=a0_0x3dcb4f,_0x3c9b35=a0_0x1ff0c6[_0x95ad85(0xf8)](__dirname,'index.html');_0x3f1f66[_0x95ad85(0x123)](_0x3c9b35);});function getServerInfo(){const _0x54b842=a0_0x3dcb4f,_0x238625=a0_0x3e1d81[_0x54b842(0xf7)](),_0x5c67b3=[];for(const _0x329923 of Object[_0x54b842(0x146)](_0x238625)){for(const _0x465978 of _0x238625[_0x329923]){_0x465978[_0x54b842(0x12f)]===_0x54b842(0x13e)&&!_0x465978['internal']&&_0x5c67b3['push'](_0x465978[_0x54b842(0x11e)]);}}return{'hostname':a0_0x3e1d81[_0x54b842(0x101)](),'platform':a0_0x3e1d81[_0x54b842(0x140)](),'addresses':_0x5c67b3,'localhost':_0x54b842(0x105)};}function authenticate(_0x4c2781,_0x3484b8,_0x619bb8){const _0x3b9284=a0_0x3dcb4f,_0x2d3f1a=_0x4c2781['headers'][_0x3b9284(0x141)]||_0x4c2781['connection']['remoteAddress'],_0x2d264d=new Date()[_0x3b9284(0x12a)]();if(_0x4c2781[_0x3b9284(0x11d)]===_0x3b9284(0xfa)||_0x4c2781[_0x3b9284(0x11d)]==='GET')return console['log']('['+_0x2d264d+_0x3b9284(0x132)+_0x2d3f1a+']\x20'+_0x4c2781[_0x3b9284(0x11d)]+'\x20'+_0x4c2781[_0x3b9284(0x103)]+'\x20-\x20Skipping\x20auth'),_0x619bb8();const {userId:_0x205feb,botId:_0x4d04f1}=_0x4c2781[_0x3b9284(0x11a)]||{};console[_0x3b9284(0x115)]('['+_0x2d264d+_0x3b9284(0x132)+_0x2d3f1a+']\x20AUTH\x20REQUEST:\x20userId='+_0x205feb+_0x3b9284(0xf5)+_0x4d04f1+_0x3b9284(0x12e)+_0x4c2781['path']);if(!_0x205feb||!_0x4d04f1)return console[_0x3b9284(0x115)]('['+_0x2d264d+_0x3b9284(0x132)+_0x2d3f1a+_0x3b9284(0xfe)),_0x3484b8[_0x3b9284(0x14a)](0x191)[_0x3b9284(0x126)]({'error':'Missing\x20userId\x20or\x20botId','timestamp':_0x2d264d,'required':[_0x3b9284(0x108),_0x3b9284(0x148)]});_0x4c2781['userId']=_0x205feb,_0x4c2781['botId']=_0x4d04f1,_0x4c2781[_0x3b9284(0x134)]=_0x2d3f1a,_0x4c2781[_0x3b9284(0xf4)]=_0x2d264d,console['log']('['+_0x2d264d+_0x3b9284(0x132)+_0x2d3f1a+_0x3b9284(0x142)),_0x619bb8();}app['use'](authenticate),app[a0_0x3dcb4f(0x127)](a0_0x3dcb4f(0x10e),async(_0x3991e5,_0xad68df)=>{const _0x5b315c=a0_0x3dcb4f,{query:_0x210327}=_0x3991e5['body'],{userId:_0x26fc02,clientIp:_0x4de156,timestamp:_0xf8f0f7}=_0x3991e5;console[_0x5b315c(0x115)]('['+_0xf8f0f7+_0x5b315c(0x132)+_0x4de156+']\x20PLAY\x20REQUEST:\x20\x22'+_0x210327+'\x22\x20for\x20userId='+_0x26fc02);try{const _0x47ea7f=await botController[_0x5b315c(0x139)](_0x26fc02,_0x210327),_0x96e7d6={'success':!![],'message':_0x5b315c(0xfc)+_0x47ea7f[_0x5b315c(0xff)],'title':_0x47ea7f[_0x5b315c(0xff)],'timestamp':_0xf8f0f7};console[_0x5b315c(0x115)]('['+_0xf8f0f7+_0x5b315c(0x132)+_0x4de156+_0x5b315c(0x102)+_0x47ea7f[_0x5b315c(0xff)]),_0xad68df[_0x5b315c(0x126)](_0x96e7d6);}catch(_0x5d83d7){console['error']('['+_0xf8f0f7+_0x5b315c(0x132)+_0x4de156+']\x20PLAY\x20ERROR:',_0x5d83d7[_0x5b315c(0xee)]),_0xad68df[_0x5b315c(0x14a)](0x1f4)['json']({'error':_0x5d83d7['message'],'timestamp':_0xf8f0f7,'userId':_0x26fc02});}}),app[a0_0x3dcb4f(0x127)](a0_0x3dcb4f(0xfb),async(_0x404818,_0x4ee390)=>{const _0x5ce975=a0_0x3dcb4f,{userId:_0x29ff54,clientIp:_0x2f8132,timestamp:_0x3f462b}=_0x404818;console['log']('['+_0x3f462b+_0x5ce975(0x132)+_0x2f8132+_0x5ce975(0x135)+_0x29ff54);try{await botController[_0x5ce975(0x120)](_0x29ff54),console['log']('['+_0x3f462b+_0x5ce975(0x132)+_0x2f8132+']\x20PAUSE\x20SUCCESS'),_0x4ee390[_0x5ce975(0x126)]({'success':!![],'timestamp':_0x3f462b});}catch(_0x3bbe58){console[_0x5ce975(0x14c)]('['+_0x3f462b+']\x20['+_0x2f8132+']\x20PAUSE\x20ERROR:',_0x3bbe58[_0x5ce975(0xee)]),_0x4ee390[_0x5ce975(0x14a)](0x1f4)['json']({'error':_0x3bbe58['message'],'timestamp':_0x3f462b});}}),app[a0_0x3dcb4f(0x127)]('/resume',async(_0x1f81a8,_0x2e0332)=>{const _0x5de32e=a0_0x3dcb4f,{userId:_0x28f72e,clientIp:_0x1f3a79,timestamp:_0x4ac61c}=_0x1f81a8;console['log']('['+_0x4ac61c+_0x5de32e(0x132)+_0x1f3a79+_0x5de32e(0x13a)+_0x28f72e);try{await botController[_0x5de32e(0x13d)](_0x28f72e),console[_0x5de32e(0x115)]('['+_0x4ac61c+']\x20['+_0x1f3a79+']\x20RESUME\x20SUCCESS'),_0x2e0332[_0x5de32e(0x126)]({'success':!![],'timestamp':_0x4ac61c});}catch(_0x1610c5){console['error']('['+_0x4ac61c+']\x20['+_0x1f3a79+_0x5de32e(0x133),_0x1610c5['message']),_0x2e0332['status'](0x1f4)[_0x5de32e(0x126)]({'error':_0x1610c5[_0x5de32e(0xee)],'timestamp':_0x4ac61c});}}),app['post'](a0_0x3dcb4f(0xf2),async(_0x1fd1b7,_0xe6f625)=>{const _0xbd671=a0_0x3dcb4f,{userId:_0xa1092b,clientIp:_0x285e81,timestamp:_0x2f6c77}=_0x1fd1b7;console['log']('['+_0x2f6c77+_0xbd671(0x132)+_0x285e81+_0xbd671(0x10c)+_0xa1092b);try{await botController[_0xbd671(0x10b)](_0xa1092b),console[_0xbd671(0x115)]('['+_0x2f6c77+_0xbd671(0x132)+_0x285e81+']\x20SKIP\x20SUCCESS'),_0xe6f625['json']({'success':!![],'timestamp':_0x2f6c77});}catch(_0x5930d7){console['error']('['+_0x2f6c77+_0xbd671(0x132)+_0x285e81+_0xbd671(0x100),_0x5930d7['message']),_0xe6f625[_0xbd671(0x14a)](0x1f4)['json']({'error':_0x5930d7[_0xbd671(0xee)],'timestamp':_0x2f6c77});}}),app['post'](a0_0x3dcb4f(0x113),async(_0x45e247,_0x450a9a)=>{const _0x3d62e1=a0_0x3dcb4f,{userId:_0xdd0f94,clientIp:_0x525a69,timestamp:_0x5cc108}=_0x45e247;console[_0x3d62e1(0x115)]('['+_0x5cc108+']\x20['+_0x525a69+']\x20STOP\x20REQUEST:\x20userId='+_0xdd0f94);try{await botController['stop'](_0xdd0f94),console[_0x3d62e1(0x115)]('['+_0x5cc108+_0x3d62e1(0x132)+_0x525a69+_0x3d62e1(0xf1)),_0x450a9a[_0x3d62e1(0x126)]({'success':!![],'timestamp':_0x5cc108});}catch(_0x2a874e){console[_0x3d62e1(0x14c)]('['+_0x5cc108+_0x3d62e1(0x132)+_0x525a69+']\x20STOP\x20ERROR:',_0x2a874e['message']),_0x450a9a['status'](0x1f4)[_0x3d62e1(0x126)]({'error':_0x2a874e['message'],'timestamp':_0x5cc108});}}),app['get']('/health',(_0x108e90,_0x57870c)=>{const _0x498c1=a0_0x3dcb4f,_0x37a835=_0x108e90[_0x498c1(0x149)][_0x498c1(0x141)]||_0x108e90['connection']['remoteAddress'],_0x16ec8b=new Date()[_0x498c1(0x12a)](),_0x5465a1=getServerInfo();console[_0x498c1(0x115)]('['+_0x16ec8b+']\x20['+_0x37a835+']\x20HEALTH\x20CHECK'),_0x57870c['json']({'status':'OK','timestamp':_0x16ec8b,'server':_0x5465a1,'uptime':process['uptime'](),'version':'2.0.0-multi-tenant'});}),app[a0_0x3dcb4f(0x11c)]('/info',(_0x303072,_0x1a5eaa)=>{const _0x2e1aa8=a0_0x3dcb4f,_0xddd24a=process[_0x2e1aa8(0x143)][_0x2e1aa8(0x136)]||0xbb8,_0x367c9e=getServerInfo(),_0x2e303a=new Date()[_0x2e1aa8(0x12a)](),_0x6fc7db=['http://localhost:'+_0xddd24a,_0x2e1aa8(0x12d)+_0xddd24a,..._0x367c9e[_0x2e1aa8(0xf6)]['map'](_0x3c066b=>_0x2e1aa8(0x14b)+_0x3c066b+':'+_0xddd24a)];_0x1a5eaa['json']({'timestamp':_0x2e303a,'port':_0xddd24a,'hostname':_0x367c9e[_0x2e1aa8(0x101)],'platform':_0x367c9e[_0x2e1aa8(0x140)],'apiUrls':_0x6fc7db,'primaryUrl':_0x6fc7db[0x0],'externalUrls':_0x367c9e['addresses'][_0x2e1aa8(0xf0)](_0x4ab52b=>_0x2e1aa8(0x14b)+_0x4ab52b+':'+_0xddd24a)});}),app[a0_0x3dcb4f(0x124)]((_0x53c99b,_0x361741)=>{const _0x459c96=a0_0x3dcb4f,_0x37723a=new Date()['toISOString'](),_0x23e275=_0x53c99b['headers'][_0x459c96(0x141)]||_0x53c99b[_0x459c96(0x119)][_0x459c96(0x114)];console[_0x459c96(0x115)]('['+_0x37723a+']\x20['+_0x23e275+_0x459c96(0x145)+_0x53c99b[_0x459c96(0x11d)]+'\x20'+_0x53c99b['originalUrl']),_0x361741[_0x459c96(0x14a)](0x194)[_0x459c96(0x126)]({'error':_0x459c96(0x12b),'timestamp':_0x37723a,'availableEndpoints':[_0x459c96(0xfd),_0x459c96(0xf3),'/play',_0x459c96(0xfb),'/resume',_0x459c96(0xf2),'/stop']});});const PORT=process['env']['PORT']||0xbb8,serverInfo=getServerInfo();app['listen'](PORT,a0_0x3dcb4f(0x10f),()=>{const _0xa711b7=a0_0x3dcb4f;console[_0xa711b7(0x115)]('\x0a🎵\x20==============================='),console[_0xa711b7(0x115)]('🎵\x20\x20SSRR\x20Multi-Tenant\x20Music\x20API\x20\x20'),console['log'](_0xa711b7(0x131)),console[_0xa711b7(0x115)]('🚀\x20Server\x20Status:\x20ONLINE'),console[_0xa711b7(0x115)]('🌐\x20Port:\x20'+PORT),console[_0xa711b7(0x115)](_0xa711b7(0x11f)+serverInfo[_0xa711b7(0x101)]),console[_0xa711b7(0x115)](_0xa711b7(0x10a)+serverInfo[_0xa711b7(0x140)]+'\x0a'),console[_0xa711b7(0x115)]('📡\x20Available\x20API\x20URLs:'),console[_0xa711b7(0x115)]('\x20\x20\x20Local:\x20\x20\x20\x20http://localhost:'+PORT),console['log']('\x20\x20\x20Local:\x20\x20\x20\x20http://127.0.0.1:'+PORT),serverInfo['addresses']['length']>0x0&&(console[_0xa711b7(0x115)]('\x20\x20\x20Network:'),serverInfo[_0xa711b7(0xf6)][_0xa711b7(0x130)](_0x3455d5=>{const _0x45bcee=_0xa711b7;console['log'](_0x45bcee(0xed)+_0x3455d5+':'+PORT);})),console[_0xa711b7(0x115)]('\x0a🔗\x20API\x20Endpoints:'),console['log'](_0xa711b7(0xf9)),console[_0xa711b7(0x115)]('\x20\x20\x20GET\x20\x20/info\x20\x20\x20\x20-\x20Server\x20information'),console[_0xa711b7(0x115)]('\x20\x20\x20POST\x20/play\x20\x20\x20\x20-\x20Play\x20music'),console[_0xa711b7(0x115)]('\x20\x20\x20POST\x20/pause\x20\x20\x20-\x20Pause\x20playback'),console[_0xa711b7(0x115)](_0xa711b7(0x147)),console[_0xa711b7(0x115)](_0xa711b7(0x137)),console['log'](_0xa711b7(0x10d)),console[_0xa711b7(0x115)](_0xa711b7(0x13f)),console['log'](_0xa711b7(0x106)),console[_0xa711b7(0x115)](_0xa711b7(0xef)),console[_0xa711b7(0x115)](_0xa711b7(0x125)),console[_0xa711b7(0x115)](_0xa711b7(0x129)),console['log'](_0xa711b7(0x131));}),process['on'](a0_0x3dcb4f(0x117),()=>{const _0x5d07b2=a0_0x3dcb4f;console['log']('\x0a🛑\x20Received\x20SIGTERM,\x20shutting\x20down\x20gracefully'),process[_0x5d07b2(0x138)](0x0);}),process['on']('SIGINT',()=>{const _0x203330=a0_0x3dcb4f;console[_0x203330(0x115)](_0x203330(0x110)),process['exit'](0x0);});
